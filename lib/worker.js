(()=>{"use strict";var e={648:(e,t,n)=>{let r;n.r(t),n.d(t,{reduceSpendingKey:()=>D,getConstants:()=>C,validateAddress:()=>I,assembleAddress:()=>T,DepositData:()=>W,Helpers:()=>N,Params:()=>U,Proof:()=>F,TransferData:()=>$,TxBaseFields:()=>H,UserAccount:()=>z,UserState:()=>q,WithdrawData:()=>K,default:()=>V});const _=new Array(32).fill(void 0);function o(e){return _[e]}_.push(void 0,null,!0,!1);let a=_.length;function i(e){const t=o(e);return function(e){e<36||(_[e]=a,a=e)}(e),t}let c=0,s=null;function u(){return null!==s&&s.buffer===r.memory.buffer||(s=new Uint8Array(r.memory.buffer)),s}let d=new TextEncoder("utf-8");const f="function"==typeof d.encodeInto?function(e,t){return d.encodeInto(e,t)}:function(e,t){const n=d.encode(e);return t.set(n),{read:e.length,written:n.length}};function b(e,t,n){if(void 0===n){const n=d.encode(e),r=t(n.length);return u().subarray(r,r+n.length).set(n),c=n.length,r}let r=e.length,_=t(r);const o=u();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;o[_+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),_=n(_,r,r=a+3*e.length);const t=u().subarray(_+a,_+r);a+=f(e,t).written}return c=a,_}function w(e){return null==e}let g=null;function l(){return null!==g&&g.buffer===r.memory.buffer||(g=new Int32Array(r.memory.buffer)),g}function p(e){a===_.length&&_.push(_.length+1);const t=a;return a=_[t],_[t]=e,t}let y=null,h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function m(e,t){return h.decode(u().subarray(e,e+t))}function v(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=v(e[0]));for(let r=1;r<t;r++)n+=", "+v(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}function k(e,t,n,_){const o={a:e,b:t,cnt:1,dtor:n},a=(...e)=>{o.cnt++;const t=o.a;o.a=0;try{return _(t,o.b,...e)}finally{0==--o.cnt?r.__wbindgen_export_2.get(o.dtor)(t,o.b):o.a=t}};return a.original=o,a}function A(e,t,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h7803c241bebb578c(e,t,p(n))}h.decode();let E=32;function S(e,t,n){try{r._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf406383e49d925af(e,t,function(e){if(1==E)throw new Error("out of js stack");return _[--E]=e,E}(n))}finally{_[E++]=void 0}}function x(e,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h17f004e53d22db4b(e,t)}const j=new Uint32Array(2),B=new BigUint64Array(j.buffer);function O(e,t){const n=t(1*e.length);return u().set(e,n/1),c=e.length,n}function P(e,t){return u().subarray(e/1,e/1+t)}function D(e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);var t=O(e,r.__wbindgen_malloc),n=c;r.reduceSpendingKey(i,t,n);var _=l()[i/4+0],o=l()[i/4+1],a=P(_,o).slice();return r.__wbindgen_free(_,1*o),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}function L(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}let M=null;function C(){return i(r.getConstants())}function I(e){var t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return 0!==r.validateAddress(t,n)}function T(e,t){try{const u=r.__wbindgen_add_to_stack_pointer(-16);var n=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),_=c,o=b(t,r.__wbindgen_malloc,r.__wbindgen_realloc),a=c;r.assembleAddress(u,n,_,o,a);var i=l()[u/4+0],s=l()[u/4+1];return m(i,s)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(i,s)}}function R(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(p(e))}}class W{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_depositdata_free(e)}}class N{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_helpers_free(e)}static strToNum(e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);var t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;r.helpers_strToNum(i,t,n);var _=l()[i/4+0],o=l()[i/4+1],a=P(_,o).slice();return r.__wbindgen_free(_,1*o),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}static numToStr(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var t=O(e,r.__wbindgen_malloc),n=c;r.helpers_numToStr(a,t,n);var _=l()[a/4+0],o=l()[a/4+1];return m(_,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(_,o)}}static outCommitmentHash(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.helpers_outCommitmentHash(_,p(e));var t=l()[_/4+0],n=l()[_/4+1];return m(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}}class U{static __wrap(e){const t=Object.create(U.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_params_free(e)}static fromBinary(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var t=O(e,r.__wbindgen_malloc),n=c;r.params_fromBinary(a,t,n);var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return U.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class F{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_proof_free(e)}static verify(e,t,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.proof_verify(a,p(e),p(t),p(n));var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return 0!==_}finally{r.__wbindgen_add_to_stack_pointer(16)}}static tx(e,t,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);L(e,U),r.proof_tx(a,e.ptr,p(t),p(n));var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static tree(e,t,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);L(e,U),r.proof_tree(a,e.ptr,p(t),p(n));var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class ${__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_transferdata_free(e)}}class H{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_txbasefields_free(e)}}class z{static __wrap(e){const t=Object.create(z.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_useraccount_free(e)}constructor(e,t){try{const u=r.__wbindgen_add_to_stack_pointer(-16);var n=O(e,r.__wbindgen_malloc),_=c;L(t,q);var o=t.ptr;t.ptr=0,r.useraccount_new(u,n,_,o);var a=l()[u/4+0],s=l()[u/4+1];if(l()[u/4+2])throw i(s);return z.__wrap(a)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static fromSeed(e,t){try{const u=r.__wbindgen_add_to_stack_pointer(-16);var n=O(e,r.__wbindgen_malloc),_=c;L(t,q);var o=t.ptr;t.ptr=0,r.useraccount_fromSeed(u,n,_,o);var a=l()[u/4+0],s=l()[u/4+1];if(l()[u/4+2])throw i(s);return z.__wrap(a)}finally{r.__wbindgen_add_to_stack_pointer(16)}}generateAddress(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_generateAddress(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}decryptNotes(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var t=O(e,r.__wbindgen_malloc),n=c;r.useraccount_decryptNotes(a,this.ptr,t,n);var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}decryptPair(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var t=O(e,r.__wbindgen_malloc),n=c;r.useraccount_decryptPair(a,this.ptr,t,n);var _=l()[a/4+0],o=l()[a/4+1];if(l()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createDeposit(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createDeposit(_,this.ptr,p(e));var t=l()[_/4+0],n=l()[_/4+1];if(l()[_/4+2])throw i(n);return i(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createTransfer(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createTransfer(_,this.ptr,p(e));var t=l()[_/4+0],n=l()[_/4+1];if(l()[_/4+2])throw i(n);return i(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createWithdraw(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createWithdraw(_,this.ptr,p(e));var t=l()[_/4+0],n=l()[_/4+1];if(l()[_/4+2])throw i(n);return i(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}isOwnAddress(e){var t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return 0!==r.useraccount_isOwnAddress(this.ptr,t,n)}addCommitment(e,t){try{const a=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const s=j[0],u=j[1];var n=O(t,r.__wbindgen_malloc),_=c;r.useraccount_addCommitment(a,this.ptr,s,u,n,_);var o=l()[a/4+0];if(l()[a/4+1])throw i(o)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addAccount(e,t,n,_){try{const a=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const c=j[0],s=j[1];r.useraccount_addAccount(a,this.ptr,c,s,p(t),p(n),p(_));var o=l()[a/4+0];if(l()[a/4+1])throw i(o)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addHashes(e,t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const o=j[0],a=j[1];r.useraccount_addHashes(_,this.ptr,o,a,p(t));var n=l()[_/4+0];if(l()[_/4+1])throw i(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addNotes(e,t,n){try{const o=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const a=j[0],c=j[1];r.useraccount_addNotes(o,this.ptr,a,c,p(t),p(n));var _=l()[o/4+0];if(l()[o/4+1])throw i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getRoot(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getRoot(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_totalBalance(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}accountBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_accountBalance(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}noteBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_noteBalance(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}nextTreeIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_nextTreeIndex(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return j[0]=e,j[1]=t,B[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}getLastLeaf(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getLastLeaf(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}getMerkleNode(e,t){try{const o=r.__wbindgen_add_to_stack_pointer(-16);B[0]=t;const a=j[0],i=j[1];r.useraccount_getMerkleNode(o,this.ptr,e,a,i);var n=l()[o/4+0],_=l()[o/4+1];return m(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,_)}}getMerkleProof(e){B[0]=e;const t=j[0],n=j[1];return i(r.useraccount_getMerkleProof(this.ptr,t,n))}getMerkleRootAfterCommitment(e,t){try{const u=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const d=j[0],f=j[1];r.useraccount_getMerkleRootAfterCommitment(u,this.ptr,d,f,p(t));var n=l()[u/4+0],_=l()[u/4+1],o=l()[u/4+2],a=l()[u/4+3],c=n,s=_;if(a)throw c=0,s=0,i(o);return m(c,s)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(c,s)}}getMerkleProofAfter(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getMerkleProofAfter(a,this.ptr,p(e));var t=l()[a/4+0],n=l()[a/4+1],_=l()[a/4+2];if(l()[a/4+3])throw i(_);var o=function(e,t){const n=(null!==M&&M.buffer===r.memory.buffer||(M=new Uint32Array(r.memory.buffer)),M).subarray(e/4,e/4+t),_=[];for(let e=0;e<n.length;e++)_.push(i(n[e]));return _}(t,n).slice();return r.__wbindgen_free(t,4*n),o}finally{r.__wbindgen_add_to_stack_pointer(16)}}getCommitmentMerkleProof(e){B[0]=e;const t=j[0],n=j[1];return i(r.useraccount_getCommitmentMerkleProof(this.ptr,t,n))}getWholeState(){return i(r.useraccount_getWholeState(this.ptr))}}class q{static __wrap(e){const t=Object.create(q.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_userstate_free(e)}static init(e){var t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return i(r.userstate_init(t,n))}earliestUsableIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_earliestUsableIndex(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return j[0]=e,j[1]=t,B[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_totalBalance(n,this.ptr);var e=l()[n/4+0],t=l()[n/4+1];return m(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}}class K{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_withdrawdata_free(e)}}const V=async function e(t){void 0===t&&(t=new URL(n(409),n.b));const _={wbg:{}};_.wbg.__wbindgen_object_drop_ref=function(e){i(e)},_.wbg.__wbindgen_string_get=function(e,t){const n=o(t);var _="string"==typeof n?n:void 0,a=w(_)?0:b(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;l()[e/4+1]=i,l()[e/4+0]=a},_.wbg.__wbg_userstate_new=function(e){return p(q.__wrap(e))},_.wbg.__wbindgen_boolean_get=function(e){const t=o(e);return"boolean"==typeof t?t?1:0:2},_.wbg.__wbindgen_object_clone_ref=function(e){return p(o(e))},_.wbg.__wbindgen_is_object=function(e){const t=o(e);return"object"==typeof t&&null!==t},_.wbg.__wbindgen_number_get=function(e,t){const n=o(t);var _="number"==typeof n?n:void 0;(null!==y&&y.buffer===r.memory.buffer||(y=new Float64Array(r.memory.buffer)),y)[e/8+1]=w(_)?0:_,l()[e/4+0]=!w(_)},_.wbg.__wbindgen_string_new=function(e,t){return p(m(e,t))},_.wbg.__wbindgen_number_new=function(e){return p(e)},_.wbg.__wbindgen_is_null=function(e){return null===o(e)},_.wbg.__wbindgen_is_undefined=function(e){return void 0===o(e)},_.wbg.__wbg_get_2d1407dba3452350=function(e,t){return p(o(e)[i(t)])},_.wbg.__wbg_set_f1a4ac8f3a605b11=function(e,t,n){o(e)[i(t)]=i(n)},_.wbg.__wbg_new_693216e109162396=function(){return p(new Error)},_.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=b(o(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),_=c;l()[e/4+1]=_,l()[e/4+0]=n},_.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(m(e,t))}finally{r.__wbindgen_free(e,t)}},_.wbg.__wbindgen_cb_drop=function(e){const t=i(e).original;return 1==t.cnt--&&(t.a=0,!0)},_.wbg.__wbg_instanceof_Window_434ce1849eb4e0fc=function(e){return o(e)instanceof Window},_.wbg.__wbg_indexedDB_1f37e0a6280bf986=function(){return R((function(e){var t=o(e).indexedDB;return w(t)?0:p(t)}),arguments)},_.wbg.__wbg_log_fbd13631356d44e4=function(e){console.log(o(e))},_.wbg.__wbg_key_fab4aae3835e3d00=function(){return R((function(e){return p(o(e).key)}),arguments)},_.wbg.__wbg_continue_5870a07733ddbae3=function(){return R((function(e){o(e).continue()}),arguments)},_.wbg.__wbg_value_eed357d6f4fb271a=function(){return R((function(e){return p(o(e).value)}),arguments)},_.wbg.__wbg_setoncomplete_3dc0ba554a7d164a=function(e,t){o(e).oncomplete=o(t)},_.wbg.__wbg_setonerror_2e5cc1fe79f2a88f=function(e,t){o(e).onerror=o(t)},_.wbg.__wbg_objectStore_d9403814ec4c771a=function(){return R((function(e,t,n){return p(o(e).objectStore(m(t,n)))}),arguments)},_.wbg.__wbg_length_220ab230736a6183=function(e){return o(e).length},_.wbg.__wbg_open_22435b09dd20255f=function(){return R((function(e,t,n,r){return p(o(e).open(m(t,n),r>>>0))}),arguments)},_.wbg.__wbg_open_ae7f237eca208633=function(){return R((function(e,t,n){return p(o(e).open(m(t,n)))}),arguments)},_.wbg.__wbg_delete_56e326dee0e4f01f=function(){return R((function(e,t){return p(o(e).delete(o(t)))}),arguments)},_.wbg.__wbg_openCursor_c45bc3dbfc7f7b70=function(){return R((function(e){return p(o(e).openCursor())}),arguments)},_.wbg.__wbg_put_7bd8bc65ebed9efa=function(){return R((function(e,t,n){return p(o(e).put(o(t),o(n)))}),arguments)},_.wbg.__wbg_instanceof_IdbDatabase_6da9b057eb862d0b=function(e){return o(e)instanceof IDBDatabase},_.wbg.__wbg_version_ad3acd17fff1261b=function(e){return o(e).version},_.wbg.__wbg_objectStoreNames_1ffe882c543c8e87=function(e){return p(o(e).objectStoreNames)},_.wbg.__wbg_close_1d91e0dffc2fe875=function(e){o(e).close()},_.wbg.__wbg_createObjectStore_65e7a072edacfa31=function(){return R((function(e,t,n){return p(o(e).createObjectStore(m(t,n)))}),arguments)},_.wbg.__wbg_transaction_d08c5bd2d1d514a1=function(){return R((function(e,t,n){return p(o(e).transaction(m(t,n)))}),arguments)},_.wbg.__wbg_transaction_6f9cde39be521ffc=function(){return R((function(e,t,n){return p(o(e).transaction(o(t),i(n)))}),arguments)},_.wbg.__wbg_now_5fa0ca001e042f8a=function(e){return o(e).now()},_.wbg.__wbg_bound_86e78cb4992de3ac=function(){return R((function(e,t){return p(IDBKeyRange.bound(o(e),o(t)))}),arguments)},_.wbg.__wbg_target_e560052e31e4567c=function(e){var t=o(e).target;return w(t)?0:p(t)},_.wbg.__wbg_setonupgradeneeded_20f0ca679878c9ef=function(e,t){o(e).onupgradeneeded=o(t)},_.wbg.__wbg_instanceof_IdbRequest_13f0521c7cd0a7e4=function(e){return o(e)instanceof IDBRequest},_.wbg.__wbg_result_86c5cd0515f694ca=function(){return R((function(e){return p(o(e).result)}),arguments)},_.wbg.__wbg_setonsuccess_b87f9950da9e0a5b=function(e,t){o(e).onsuccess=o(t)},_.wbg.__wbg_randomFillSync_59fcc2add91fe7b3=function(){return R((function(e,t,n){o(e).randomFillSync(P(t,n))}),arguments)},_.wbg.__wbg_getRandomValues_3e46aa268da0fed1=function(){return R((function(e,t){o(e).getRandomValues(o(t))}),arguments)},_.wbg.__wbg_process_f2b73829dbd321da=function(e){return p(o(e).process)},_.wbg.__wbg_versions_cd82f79c98672a9f=function(e){return p(o(e).versions)},_.wbg.__wbg_node_ee3f6da4130bd35f=function(e){return p(o(e).node)},_.wbg.__wbindgen_is_string=function(e){return"string"==typeof o(e)},_.wbg.__wbg_modulerequire_0a83c0c31d12d2c7=function(){return R((function(e,t){return p(s.require(m(e,t)))}),arguments)},_.wbg.__wbg_crypto_9e3521ed42436d35=function(e){return p(o(e).crypto)},_.wbg.__wbg_msCrypto_c429c3f8f7a70bb5=function(e){return p(o(e).msCrypto)},_.wbg.__wbg_get_f45dff51f52d7222=function(e,t){return p(o(e)[t>>>0])},_.wbg.__wbg_new_16f24b0728c5e67b=function(){return p(new Array)},_.wbg.__wbindgen_is_function=function(e){return"function"==typeof o(e)},_.wbg.__wbg_newnoargs_f579424187aa1717=function(e,t){return p(new Function(m(e,t)))},_.wbg.__wbg_next_c7a2a6b012059a5e=function(e){return p(o(e).next)},_.wbg.__wbg_next_dd1a890d37e38d73=function(){return R((function(e){return p(o(e).next())}),arguments)},_.wbg.__wbg_done_982b1c7ac0cbc69d=function(e){return o(e).done},_.wbg.__wbg_value_2def2d1fb38b02cd=function(e){return p(o(e).value)},_.wbg.__wbg_iterator_4b9cedbeda0c0e30=function(){return p(Symbol.iterator)},_.wbg.__wbg_get_8bbb82393651dd9c=function(){return R((function(e,t){return p(Reflect.get(o(e),o(t)))}),arguments)},_.wbg.__wbg_call_89558c3e96703ca1=function(){return R((function(e,t){return p(o(e).call(o(t)))}),arguments)},_.wbg.__wbg_new_d3138911a89329b0=function(){return p(new Object)},_.wbg.__wbg_isArray_8480ed76e5369634=function(e){return Array.isArray(o(e))},_.wbg.__wbg_push_a72df856079e6930=function(e,t){return o(e).push(o(t))},_.wbg.__wbg_instanceof_ArrayBuffer_649f53c967aec9b3=function(e){return o(e)instanceof ArrayBuffer},_.wbg.__wbg_byteLength_3b7a7d942f77e4e2=function(e){return o(e).byteLength},_.wbg.__wbg_values_71935f80778b5113=function(e){return p(o(e).values())},_.wbg.__wbg_new_55259b13834a484c=function(e,t){return p(new Error(m(e,t)))},_.wbg.__wbg_call_94697a95cb7e239c=function(){return R((function(e,t,n){return p(o(e).call(o(t),o(n)))}),arguments)},_.wbg.__wbg_isSafeInteger_91192d88df6f12b9=function(e){return Number.isSafeInteger(o(e))},_.wbg.__wbg_entries_38f300d4350c7466=function(e){return p(Object.entries(o(e)))},_.wbg.__wbg_new_4beacc9c71572250=function(e,t){try{var n={a:e,b:t},_=new Promise(((e,t)=>{const _=n.a;n.a=0;try{return function(e,t,n,_){r.wasm_bindgen__convert__closures__invoke2_mut__h145469a30862945a(e,t,p(n),p(_))}(_,n.b,e,t)}finally{n.a=_}}));return p(_)}finally{n.a=n.b=0}},_.wbg.__wbg_resolve_4f8f547f26b30b27=function(e){return p(Promise.resolve(o(e)))},_.wbg.__wbg_then_a6860c82b90816ca=function(e,t){return p(o(e).then(o(t)))},_.wbg.__wbg_self_e23d74ae45fb17d1=function(){return R((function(){return p(self.self)}),arguments)},_.wbg.__wbg_window_b4be7f48b24ac56e=function(){return R((function(){return p(window.window)}),arguments)},_.wbg.__wbg_globalThis_d61b1f48a57191ae=function(){return R((function(){return p(globalThis.globalThis)}),arguments)},_.wbg.__wbg_global_e7669da72fd7f239=function(){return R((function(){return p(n.g.global)}),arguments)},_.wbg.__wbg_buffer_5e74a88a1424a2e0=function(e){return p(o(e).buffer)},_.wbg.__wbg_newwithbyteoffsetandlength_278ec7532799393a=function(e,t,n){return p(new Uint8Array(o(e),t>>>0,n>>>0))},_.wbg.__wbg_new_e3b800e570795b3c=function(e){return p(new Uint8Array(o(e)))},_.wbg.__wbg_set_5b8081e9d002f0df=function(e,t,n){o(e).set(o(t),n>>>0)},_.wbg.__wbg_length_30803400a8f15c59=function(e){return o(e).length},_.wbg.__wbg_instanceof_Uint8Array_8a8537f46e056474=function(e){return o(e)instanceof Uint8Array},_.wbg.__wbg_newwithlength_5f4ce114a24dfe1e=function(e){return p(new Uint8Array(e>>>0))},_.wbg.__wbg_subarray_a68f835ca2af506f=function(e,t,n){return p(o(e).subarray(t>>>0,n>>>0))},_.wbg.__wbg_byteLength_8e4d38eb0b20db39=function(e){return o(e).byteLength},_.wbg.__wbg_has_3850edde6df9191b=function(){return R((function(e,t){return Reflect.has(o(e),o(t))}),arguments)},_.wbg.__wbindgen_debug_string=function(e,t){var n=b(v(o(t)),r.__wbindgen_malloc,r.__wbindgen_realloc),_=c;l()[e/4+1]=_,l()[e/4+0]=n},_.wbg.__wbindgen_throw=function(e,t){throw new Error(m(e,t))},_.wbg.__wbindgen_memory=function(){return p(r.memory)},_.wbg.__wbindgen_closure_wrapper984=function(e,t,n){return p(k(e,t,188,A))},_.wbg.__wbindgen_closure_wrapper1051=function(e,t,n){return p(k(e,t,234,S))},_.wbg.__wbindgen_closure_wrapper1057=function(e,t,n){return p(k(e,t,234,x))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:a,module:s}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,_);return r=a.exports,e.__wbindgen_wasm_module=s,r}},570:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileCache=void 0;const r=n(424),_="files";class o{constructor(e){this.db=e}static async init(){const e=await(0,r.openDB)("zp.file_cache",1,{upgrade(e){e.createObjectStore(_)}});return new o(e)}async getOrCache(e){let t=await this.get(e);return t?console.log(`File ${e} is present in cache, no need to fetch`):(console.log(`Caching ${e}`),t=await this.cache(e)),t}async cache(e){const t=await(await fetch(e)).arrayBuffer();return await this.db.put(_,t,e),t}async get(e){return await this.db.get(_,e)}}t.FileCache=o},827:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),_=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return _(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=n(375),i=o(n(648)),c=n(570);let s,u;const d={async initWasm(e,t){console.info("Initializing web worker..."),await(0,i.default)(e);const n=await c.FileCache.init(),r=await n.getOrCache(t.txParams);s=i.Params.fromBinary(new Uint8Array(r));const _=await n.getOrCache(t.treeParams);u=i.Params.fromBinary(new Uint8Array(_)),console.info("Web worker init complete.")},proveTx:async(e,t)=>new Promise((async n=>{console.debug("Web worker: proveTx"),n(i.Proof.tx(s,e,t))})),proveTree:async(e,t)=>new Promise((async n=>{console.debug("Web worker: proveTree"),n(i.Proof.tree(u,e,t))}))};(0,a.expose)(d)},409:(e,t,n)=>{e.exports=n.p+"0b52fe253222cb5eb0ae.wasm"},375:(e,t,n)=>{n.r(t),n.d(t,{createEndpoint:()=>_,expose:()=>s,proxy:()=>p,proxyMarker:()=>r,releaseProxy:()=>o,transfer:()=>l,transferHandlers:()=>c,windowEndpoint:()=>y,wrap:()=>d});const r=Symbol("Comlink.proxy"),_=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>i(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return s(e,t),[n,[n]]},deserialize:e=>(e.start(),d(e))}],["throw",{canHandle:e=>i(e)&&a in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function s(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:_,type:o,path:i}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(m);let d;try{const t=i.slice(0,-1).reduce(((e,t)=>e[t]),e),n=i.reduce(((e,t)=>e[t]),e);switch(o){case"GET":d=n;break;case"SET":t[i.slice(-1)[0]]=m(r.data.value),d=!0;break;case"APPLY":d=n.apply(t,c);break;case"CONSTRUCT":d=p(new n(...c));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;s(e,n),d=l(t,[t])}break;case"RELEASE":d=void 0;break;default:return}}catch(e){d={value:e,[a]:0}}Promise.resolve(d).catch((e=>({value:e,[a]:0}))).then((e=>{const[r,a]=h(e);t.postMessage(Object.assign(Object.assign({},r),{id:_}),a),"RELEASE"===o&&(t.removeEventListener("message",n),u(t))}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function d(e,t){return b(e,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function b(e,t=[],n=function(){}){let r=!1;const a=new Proxy(n,{get(n,_){if(f(r),_===o)return()=>v(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{u(e),r=!0}));if("then"===_){if(0===t.length)return{then:()=>a};const n=v(e,{type:"GET",path:t.map((e=>e.toString()))}).then(m);return n.then.bind(n)}return b(e,[...t,_])},set(n,_,o){f(r);const[a,i]=h(o);return v(e,{type:"SET",path:[...t,_].map((e=>e.toString())),value:a},i).then(m)},apply(n,o,a){f(r);const i=t[t.length-1];if(i===_)return v(e,{type:"ENDPOINT"}).then(m);if("bind"===i)return b(e,t.slice(0,-1));const[c,s]=w(a);return v(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},s).then(m)},construct(n,_){f(r);const[o,a]=w(_);return v(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},a).then(m)}});return a}function w(e){const t=e.map(h);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const g=new WeakMap;function l(e,t){return g.set(e,t),e}function p(e){return Object.assign(e,{[r]:!0})}function y(e,t=self,n="*"){return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function h(e){for(const[t,n]of c)if(n.canHandle(e)){const[r,_]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},_]}return[{type:"RAW",value:e},g.get(e)||[]]}function m(e){switch(e.type){case"HANDLER":return c.get(e.name).deserialize(e.value);case"RAW":return e.value}}function v(e,t,n){return new Promise((r=>{const _=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===_&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:_},t),n)}))}},424:(e,t,n)=>{let r,_;n.r(t),n.d(t,{deleteDB:()=>g,openDB:()=>w,unwrap:()=>b,wrap:()=>f});const o=new WeakMap,a=new WeakMap,i=new WeakMap,c=new WeakMap,s=new WeakMap;let u={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_||(_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(b(this),e),f(o.get(this))}:function(...e){return f(t.apply(b(this),e))}:function(e,...n){const r=t.call(b(this),e,...n);return i.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",_),e.removeEventListener("error",o),e.removeEventListener("abort",o)},_=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",_),e.addEventListener("error",o),e.addEventListener("abort",o)}));a.set(e,t)}(e),n=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,u):e);var t,n}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",_),e.removeEventListener("error",o)},_=()=>{t(f(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",_),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),s.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),s.set(t,e)),t}const b=e=>s.get(e);function w(e,t,{blocked:n,upgrade:r,blocking:_,terminated:o}={}){const a=indexedDB.open(e,t),i=f(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(f(a.result),e.oldVersion,e.newVersion,f(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),i.then((e=>{o&&e.addEventListener("close",(()=>o())),_&&e.addEventListener("versionchange",(()=>_()))})).catch((()=>{})),i}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),f(n).then((()=>{}))}const l=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],y=new Map;function h(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,_=p.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!_&&!l.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,_?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),_&&o.done]))[0]};return y.set(t,o),o}var m;m=u,u={...m,get:(e,t,n)=>h(e,t)||m.get(e,t,n),has:(e,t)=>!!h(e,t)||m.has(e,t)}}},t={};function n(r){var _=t[r];if(void 0!==_)return _.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=self.location+"",n(827)})();