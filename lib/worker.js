(()=>{"use strict";var t={192:(t,e,n)=>{let r;n.r(e),n.d(e,{DepositData:()=>N,DepositPermittableData:()=>W,Helpers:()=>U,Params:()=>F,Proof:()=>$,TransferData:()=>H,TxBaseFields:()=>z,UserAccount:()=>q,UserState:()=>K,WithdrawData:()=>V,assembleAddress:()=>T,default:()=>G,getConstants:()=>C,reduceSpendingKey:()=>O,validateAddress:()=>I});const _=new Array(32).fill(void 0);function o(t){return _[t]}_.push(void 0,null,!0,!1);let a=_.length;function i(t){const e=o(t);return function(t){t<36||(_[t]=a,a=t)}(t),e}let c=0,s=null;function u(){return null!==s&&s.buffer===r.memory.buffer||(s=new Uint8Array(r.memory.buffer)),s}const d=new TextEncoder("utf-8"),b="function"==typeof d.encodeInto?function(t,e){return d.encodeInto(t,e)}:function(t,e){const n=d.encode(t);return e.set(n),{read:t.length,written:n.length}};function f(t,e,n){if(void 0===n){const n=d.encode(t),r=e(n.length);return u().subarray(r,r+n.length).set(n),c=n.length,r}let r=t.length,_=e(r);const o=u();let a=0;for(;a<r;a++){const e=t.charCodeAt(a);if(e>127)break;o[_+a]=e}if(a!==r){0!==a&&(t=t.slice(a)),_=n(_,r,r=a+3*t.length);const e=u().subarray(_+a,_+r);a+=b(t,e).written}return c=a,_}function w(t){return null==t}let l=null;function g(){return null!==l&&l.buffer===r.memory.buffer||(l=new Int32Array(r.memory.buffer)),l}function p(t){a===_.length&&_.push(_.length+1);const e=a;return a=_[e],_[e]=t,e}let y=null;const h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function m(t,e){return h.decode(u().subarray(t,t+e))}function v(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=v(t[0]));for(let r=1;r<e;r++)n+=", "+v(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:r}function k(t,e,n,_){const o={a:t,b:e,cnt:1,dtor:n},a=(...t)=>{o.cnt++;const e=o.a;o.a=0;try{return _(e,o.b,...t)}finally{0==--o.cnt?r.__wbindgen_export_2.get(o.dtor)(e,o.b):o.a=e}};return a.original=o,a}function E(t,e,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h54af7f2a6e28a9f0(t,e,p(n))}h.decode();let A=32;function S(t,e,n){try{r._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h795d9c310f3e21a6(t,e,function(t){if(1==A)throw new Error("out of js stack");return _[--A]=t,A}(n))}finally{_[A++]=void 0}}function P(t,e){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h14bad0e0d8b3e867(t,e)}function x(t,e){return u().subarray(t/1,t/1+e)}function D(t,e){const n=e(1*t.length);return u().set(t,n/1),c=t.length,n}const B=new Uint32Array(2),j=new BigUint64Array(B.buffer);function O(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16),a=D(t,r.__wbindgen_malloc),i=c;r.reduceSpendingKey(o,a,i);var e=g()[o/4+0],n=g()[o/4+1],_=x(e,n).slice();return r.__wbindgen_free(e,1*n),_}finally{r.__wbindgen_add_to_stack_pointer(16)}}function L(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}let M=null;function C(){return i(r.getConstants())}function I(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return 0!==r.validateAddress(e,n)}function T(t,e){try{const o=r.__wbindgen_add_to_stack_pointer(-16),a=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c,s=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),u=c;r.assembleAddress(o,a,i,s,u);var n=g()[o/4+0],_=g()[o/4+1];return m(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,_)}}function R(t,e){try{return t.apply(this,e)}catch(t){r.__wbindgen_exn_store(p(t))}}class N{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_depositdata_free(t)}}class W{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_depositpermittabledata_free(t)}}class U{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_helpers_free(t)}static strToNum(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16),a=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;r.helpers_strToNum(o,a,i);var e=g()[o/4+0],n=g()[o/4+1],_=x(e,n).slice();return r.__wbindgen_free(e,1*n),_}finally{r.__wbindgen_add_to_stack_pointer(16)}}static numToStr(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16),o=D(t,r.__wbindgen_malloc),a=c;r.helpers_numToStr(_,o,a);var e=g()[_/4+0],n=g()[_/4+1];return m(e,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n)}}static outCommitmentHash(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.helpers_outCommitmentHash(_,p(t));var e=g()[_/4+0],n=g()[_/4+1];return m(e,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n)}}}class F{static __wrap(t){const e=Object.create(F.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_params_free(t)}static fromBinary(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16),o=D(t,r.__wbindgen_malloc),a=c;r.params_fromBinary(_,o,a);var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return F.__wrap(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static fromBinaryExtended(t,e,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16),s=D(t,r.__wbindgen_malloc),u=c;r.params_fromBinaryExtended(a,s,u,e,n);var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return F.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class ${__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_proof_free(t)}static verify(t,e,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.proof_verify(a,p(t),p(e),p(n));var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return 0!==_}finally{r.__wbindgen_add_to_stack_pointer(16)}}static tx(t,e,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);L(t,F),r.proof_tx(a,t.ptr,p(e),p(n));var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static tree(t,e,n){try{const a=r.__wbindgen_add_to_stack_pointer(-16);L(t,F),r.proof_tree(a,t.ptr,p(e),p(n));var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}}class H{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_transferdata_free(t)}}class z{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_txbasefields_free(t)}}class q{static __wrap(t){const e=Object.create(q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_useraccount_free(t)}constructor(t,e){try{const a=r.__wbindgen_add_to_stack_pointer(-16),s=D(t,r.__wbindgen_malloc),u=c;L(e,K);var n=e.ptr;e.ptr=0,r.useraccount_new(a,s,u,n);var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return q.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}static fromSeed(t,e){try{const a=r.__wbindgen_add_to_stack_pointer(-16),s=D(t,r.__wbindgen_malloc),u=c;L(e,K);var n=e.ptr;e.ptr=0,r.useraccount_fromSeed(a,s,u,n);var _=g()[a/4+0],o=g()[a/4+1];if(g()[a/4+2])throw i(o);return q.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}generateAddress(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_generateAddress(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}decryptNotes(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16),o=D(t,r.__wbindgen_malloc),a=c;r.useraccount_decryptNotes(_,this.ptr,o,a);var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}decryptPair(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16),o=D(t,r.__wbindgen_malloc),a=c;r.useraccount_decryptPair(_,this.ptr,o,a);var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createDeposit(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createDeposit(_,this.ptr,p(t));var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createDepositPermittable(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createDepositPermittable(_,this.ptr,p(t));var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createTransfer(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createTransfer(_,this.ptr,p(t));var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}createWithdraw(t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_createWithdraw(_,this.ptr,p(t));var e=g()[_/4+0],n=g()[_/4+1];if(g()[_/4+2])throw i(n);return i(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}isOwnAddress(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return 0!==r.useraccount_isOwnAddress(this.ptr,e,n)}addCommitment(t,e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);j[0]=t;const o=B[0],a=B[1],s=D(e,r.__wbindgen_malloc),u=c;r.useraccount_addCommitment(_,this.ptr,o,a,s,u);var n=g()[_/4+0];if(g()[_/4+1])throw i(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addAccount(t,e,n,_){try{const a=r.__wbindgen_add_to_stack_pointer(-16);j[0]=t;const c=B[0],s=B[1];r.useraccount_addAccount(a,this.ptr,c,s,p(e),p(n),p(_));var o=g()[a/4+0];if(g()[a/4+1])throw i(o)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addHashes(t,e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);j[0]=t;const o=B[0],a=B[1];r.useraccount_addHashes(_,this.ptr,o,a,p(e));var n=g()[_/4+0];if(g()[_/4+1])throw i(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}addNotes(t,e,n){try{const o=r.__wbindgen_add_to_stack_pointer(-16);j[0]=t;const a=B[0],c=B[1];r.useraccount_addNotes(o,this.ptr,a,c,p(e),p(n));var _=g()[o/4+0];if(g()[o/4+1])throw i(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getRoot(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getRoot(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_totalBalance(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}accountBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_accountBalance(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}noteBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_noteBalance(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}nextTreeIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_nextTreeIndex(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return B[0]=t,B[1]=e,j[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}getLastLeaf(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getLastLeaf(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}getMerkleNode(t,e){try{const o=r.__wbindgen_add_to_stack_pointer(-16);j[0]=e;const a=B[0],i=B[1];r.useraccount_getMerkleNode(o,this.ptr,t,a,i);var n=g()[o/4+0],_=g()[o/4+1];return m(n,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,_)}}getMerkleProof(t){j[0]=t;const e=B[0],n=B[1];return i(r.useraccount_getMerkleProof(this.ptr,e,n))}getMerkleRootAfterCommitment(t,e){try{const u=r.__wbindgen_add_to_stack_pointer(-16);j[0]=t;const d=B[0],b=B[1];r.useraccount_getMerkleRootAfterCommitment(u,this.ptr,d,b,p(e));var n=g()[u/4+0],_=g()[u/4+1],o=g()[u/4+2],a=g()[u/4+3],c=n,s=_;if(a)throw c=0,s=0,i(o);return m(c,s)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(c,s)}}getMerkleProofAfter(t){try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getMerkleProofAfter(a,this.ptr,p(t));var e=g()[a/4+0],n=g()[a/4+1],_=g()[a/4+2];if(g()[a/4+3])throw i(_);var o=function(t,e){const n=(null!==M&&M.buffer===r.memory.buffer||(M=new Uint32Array(r.memory.buffer)),M).subarray(t/4,t/4+e),_=[];for(let t=0;t<n.length;t++)_.push(i(n[t]));return _}(e,n).slice();return r.__wbindgen_free(e,4*n),o}finally{r.__wbindgen_add_to_stack_pointer(16)}}getCommitmentMerkleProof(t){j[0]=t;const e=B[0],n=B[1];return i(r.useraccount_getCommitmentMerkleProof(this.ptr,e,n))}getWholeState(){return i(r.useraccount_getWholeState(this.ptr))}}class K{static __wrap(t){const e=Object.create(K.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_userstate_free(t)}static init(t){const e=f(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=c;return i(r.userstate_init(e,n))}earliestUsableIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_earliestUsableIndex(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return B[0]=t,B[1]=e,j[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_totalBalance(n,this.ptr);var t=g()[n/4+0],e=g()[n/4+1];return m(t,e)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,e)}}}class V{__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_withdrawdata_free(t)}}const G=async function t(e){void 0===e&&(e=new URL(n(546),n.b));const _={wbg:{}};_.wbg.__wbindgen_object_drop_ref=function(t){i(t)},_.wbg.__wbindgen_string_get=function(t,e){const n=o(e),_="string"==typeof n?n:void 0;var a=w(_)?0:f(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;g()[t/4+1]=i,g()[t/4+0]=a},_.wbg.__wbg_userstate_new=function(t){return p(K.__wrap(t))},_.wbg.__wbindgen_boolean_get=function(t){const e=o(t);return"boolean"==typeof e?e?1:0:2},_.wbg.__wbindgen_object_clone_ref=function(t){return p(o(t))},_.wbg.__wbindgen_number_get=function(t,e){const n=o(e),_="number"==typeof n?n:void 0;(null!==y&&y.buffer===r.memory.buffer||(y=new Float64Array(r.memory.buffer)),y)[t/8+1]=w(_)?0:_,g()[t/4+0]=!w(_)},_.wbg.__wbindgen_is_object=function(t){const e=o(t);return"object"==typeof e&&null!==e},_.wbg.__wbindgen_string_new=function(t,e){return p(m(t,e))},_.wbg.__wbindgen_number_new=function(t){return p(t)},_.wbg.__wbindgen_is_null=function(t){return null===o(t)},_.wbg.__wbindgen_is_undefined=function(t){return void 0===o(t)},_.wbg.__wbg_get_2d1407dba3452350=function(t,e){return p(o(t)[i(e)])},_.wbg.__wbg_set_f1a4ac8f3a605b11=function(t,e,n){o(t)[i(e)]=i(n)},_.wbg.__wbg_new_693216e109162396=function(){return p(new Error)},_.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,e){const n=f(o(e).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),_=c;g()[t/4+1]=_,g()[t/4+0]=n},_.wbg.__wbg_error_09919627ac0992f5=function(t,e){try{console.error(m(t,e))}finally{r.__wbindgen_free(t,e)}},_.wbg.__wbindgen_cb_drop=function(t){const e=i(t).original;return 1==e.cnt--&&(e.a=0,!0)},_.wbg.__wbg_instanceof_Window_0e6c0f1096d66c3c=function(t){return o(t)instanceof Window},_.wbg.__wbg_indexedDB_804d591ef0c641d1=function(){return R((function(t){const e=o(t).indexedDB;return w(e)?0:p(e)}),arguments)},_.wbg.__wbg_log_e8ba7b992c7ad0eb=function(t){console.log(o(t))},_.wbg.__wbg_key_79273b35cd039da5=function(){return R((function(t){return p(o(t).key)}),arguments)},_.wbg.__wbg_continue_f01466425356ad04=function(){return R((function(t){o(t).continue()}),arguments)},_.wbg.__wbg_setoncomplete_a58f7df6f6f48c2a=function(t,e){o(t).oncomplete=o(e)},_.wbg.__wbg_setonerror_6e398f9528c88c12=function(t,e){o(t).onerror=o(e)},_.wbg.__wbg_objectStore_086a6fb2e502eda1=function(){return R((function(t,e,n){return p(o(t).objectStore(m(e,n)))}),arguments)},_.wbg.__wbg_value_4898c299764282d8=function(){return R((function(t){return p(o(t).value)}),arguments)},_.wbg.__wbg_length_49d79cdda9c6512a=function(t){return o(t).length},_.wbg.__wbg_open_f769755ad5a155ed=function(){return R((function(t,e,n,r){return p(o(t).open(m(e,n),r>>>0))}),arguments)},_.wbg.__wbg_open_516ae4b97eefd547=function(){return R((function(t,e,n){return p(o(t).open(m(e,n)))}),arguments)},_.wbg.__wbg_setonupgradeneeded_fa130745d03fce4b=function(t,e){o(t).onupgradeneeded=o(e)},_.wbg.__wbg_delete_8004bba5d4052955=function(){return R((function(t,e){return p(o(t).delete(o(e)))}),arguments)},_.wbg.__wbg_openCursor_8726321e890bbecc=function(){return R((function(t){return p(o(t).openCursor())}),arguments)},_.wbg.__wbg_put_abe4e4d796c319bc=function(){return R((function(t,e,n){return p(o(t).put(o(e),o(n)))}),arguments)},_.wbg.__wbg_instanceof_IdbDatabase_48342d47e3d49a0b=function(t){return o(t)instanceof IDBDatabase},_.wbg.__wbg_version_47058572bac052c3=function(t){return o(t).version},_.wbg.__wbg_objectStoreNames_506b1f4b2820dc4a=function(t){return p(o(t).objectStoreNames)},_.wbg.__wbg_close_fb4b3de4c3a6a01f=function(t){o(t).close()},_.wbg.__wbg_createObjectStore_28f9e3d76c6b74dc=function(){return R((function(t,e,n){return p(o(t).createObjectStore(m(e,n)))}),arguments)},_.wbg.__wbg_transaction_9b6265a678b64521=function(){return R((function(t,e,n){return p(o(t).transaction(m(e,n)))}),arguments)},_.wbg.__wbg_transaction_f01167fa2fdfab4a=function(){return R((function(t,e,n){return p(o(t).transaction(o(e),i(n)))}),arguments)},_.wbg.__wbg_now_20d2aadcf3cc17f7=function(t){return o(t).now()},_.wbg.__wbg_bound_449138255ab2e4da=function(){return R((function(t,e){return p(IDBKeyRange.bound(o(t),o(e)))}),arguments)},_.wbg.__wbg_target_46fd3a29f64b0e43=function(t){const e=o(t).target;return w(e)?0:p(e)},_.wbg.__wbg_instanceof_IdbRequest_47c9da68e13e5264=function(t){return o(t)instanceof IDBRequest},_.wbg.__wbg_result_73c2021f8bf9dd03=function(){return R((function(t){return p(o(t).result)}),arguments)},_.wbg.__wbg_setonsuccess_c9c871d1dea47647=function(t,e){o(t).onsuccess=o(e)},_.wbg.__wbg_randomFillSync_654a7797990fb8db=function(){return R((function(t,e,n){o(t).randomFillSync(x(e,n))}),arguments)},_.wbg.__wbg_getRandomValues_fb6b088efb6bead2=function(){return R((function(t,e){o(t).getRandomValues(o(e))}),arguments)},_.wbg.__wbg_process_70251ed1291754d5=function(t){return p(o(t).process)},_.wbg.__wbg_versions_b23f2588cdb2ddbb=function(t){return p(o(t).versions)},_.wbg.__wbg_node_61b8c9a82499895d=function(t){return p(o(t).node)},_.wbg.__wbindgen_is_string=function(t){return"string"==typeof o(t)},_.wbg.__wbg_static_accessor_NODE_MODULE_33b45247c55045b0=function(){return p(s)},_.wbg.__wbg_require_2a93bc09fee45aca=function(){return R((function(t,e,n){return p(o(t).require(m(e,n)))}),arguments)},_.wbg.__wbg_crypto_2f56257a38275dbd=function(t){return p(o(t).crypto)},_.wbg.__wbg_msCrypto_d07655bf62361f21=function(t){return p(o(t).msCrypto)},_.wbg.__wbg_get_590a2cd912f2ae46=function(t,e){return p(o(t)[e>>>0])},_.wbg.__wbg_new_94fb1279cf6afea5=function(){return p(new Array)},_.wbg.__wbindgen_is_function=function(t){return"function"==typeof o(t)},_.wbg.__wbg_newnoargs_e23b458e372830de=function(t,e){return p(new Function(m(t,e)))},_.wbg.__wbg_next_cabb70b365520721=function(t){return p(o(t).next)},_.wbg.__wbg_next_bf3d83fc18df496e=function(){return R((function(t){return p(o(t).next())}),arguments)},_.wbg.__wbg_done_040f966faa9a72b3=function(t){return o(t).done},_.wbg.__wbg_value_419afbd9b9574c4c=function(t){return p(o(t).value)},_.wbg.__wbg_iterator_4832ef1f15b0382b=function(){return p(Symbol.iterator)},_.wbg.__wbg_get_a9cab131e3152c49=function(){return R((function(t,e){return p(Reflect.get(o(t),o(e)))}),arguments)},_.wbg.__wbg_call_ae78342adc33730a=function(){return R((function(t,e){return p(o(t).call(o(e)))}),arguments)},_.wbg.__wbg_new_36359baae5a47e27=function(){return p(new Object)},_.wbg.__wbg_self_99737b4dcdf6f0d8=function(){return R((function(){return p(self.self)}),arguments)},_.wbg.__wbg_window_9b61fbbf3564c4fb=function(){return R((function(){return p(window.window)}),arguments)},_.wbg.__wbg_globalThis_8e275ef40caea3a3=function(){return R((function(){return p(globalThis.globalThis)}),arguments)},_.wbg.__wbg_global_5de1e0f82bddcd27=function(){return R((function(){return p(n.g.global)}),arguments)},_.wbg.__wbg_isArray_6721f2e508996340=function(t){return Array.isArray(o(t))},_.wbg.__wbg_push_40c6a90f1805aa90=function(t,e){return o(t).push(o(e))},_.wbg.__wbg_instanceof_ArrayBuffer_b81b40c2ae0ab898=function(t){return o(t)instanceof ArrayBuffer},_.wbg.__wbg_byteLength_03e713da4c365964=function(t){return o(t).byteLength},_.wbg.__wbg_values_b1b9e8c63dbe01c2=function(t){return p(o(t).values())},_.wbg.__wbg_new_3047bf4b4f02b802=function(t,e){return p(new Error(m(t,e)))},_.wbg.__wbg_call_3ed288a247f13ea5=function(){return R((function(t,e,n){return p(o(t).call(o(e),o(n)))}),arguments)},_.wbg.__wbg_isSafeInteger_c87467ed96815119=function(t){return Number.isSafeInteger(o(t))},_.wbg.__wbg_entries_aaf7a1fbe90f014a=function(t){return p(Object.entries(o(t)))},_.wbg.__wbg_new_37705eed627d5ed9=function(t,e){try{var n={a:t,b:e};const _=new Promise(((t,e)=>{const _=n.a;n.a=0;try{return function(t,e,n,_){r.wasm_bindgen__convert__closures__invoke2_mut__h5182eb28e21e8855(t,e,p(n),p(_))}(_,n.b,t,e)}finally{n.a=_}}));return p(_)}finally{n.a=n.b=0}},_.wbg.__wbg_resolve_a9a87bdd64e9e62c=function(t){return p(Promise.resolve(o(t)))},_.wbg.__wbg_then_ce526c837d07b68f=function(t,e){return p(o(t).then(o(e)))},_.wbg.__wbg_buffer_7af23f65f6c64548=function(t){return p(o(t).buffer)},_.wbg.__wbg_newwithbyteoffsetandlength_ce1e75f0ce5f7974=function(t,e,n){return p(new Uint8Array(o(t),e>>>0,n>>>0))},_.wbg.__wbg_new_cc9018bd6f283b6f=function(t){return p(new Uint8Array(o(t)))},_.wbg.__wbg_set_f25e869e4565d2a2=function(t,e,n){o(t).set(o(e),n>>>0)},_.wbg.__wbg_length_0acb1cf9bbaf8519=function(t){return o(t).length},_.wbg.__wbg_instanceof_Uint8Array_edb92795fc0c63b4=function(t){return o(t)instanceof Uint8Array},_.wbg.__wbg_newwithlength_8f0657faca9f1422=function(t){return p(new Uint8Array(t>>>0))},_.wbg.__wbg_subarray_da527dbd24eafb6b=function(t,e,n){return p(o(t).subarray(e>>>0,n>>>0))},_.wbg.__wbg_byteLength_e07852258f592e80=function(t){return o(t).byteLength},_.wbg.__wbg_has_ce995ec88636803d=function(){return R((function(t,e){return Reflect.has(o(t),o(e))}),arguments)},_.wbg.__wbindgen_debug_string=function(t,e){const n=f(v(o(e)),r.__wbindgen_malloc,r.__wbindgen_realloc),_=c;g()[t/4+1]=_,g()[t/4+0]=n},_.wbg.__wbindgen_throw=function(t,e){throw new Error(m(t,e))},_.wbg.__wbindgen_memory=function(){return p(r.memory)},_.wbg.__wbindgen_closure_wrapper1007=function(t,e,n){return p(k(t,e,194,E))},_.wbg.__wbindgen_closure_wrapper1068=function(t,e,n){return p(k(t,e,237,S))},_.wbg.__wbindgen_closure_wrapper1069=function(t,e,n){return p(k(t,e,237,P))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:a,module:s}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,_);return r=a.exports,t.__wbindgen_wasm_module=s,r}},570:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FileCache=void 0;const r=n(424),_="files";class o{constructor(t){this.db=t}static async init(){const t=await(0,r.openDB)("zp.file_cache",1,{upgrade(t){t.createObjectStore(_)}});return new o(t)}async getOrCache(t){let e=await this.get(t);return e?console.log(`File ${t} is present in cache, no need to fetch`):(console.log(`Caching ${t}`),e=await this.cache(t)),e}async cache(t){const e=await(await fetch(t)).arrayBuffer();return await this.db.put(_,e,t),e}async get(t){return await this.db.get(_,t)}}e.FileCache=o},827:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var _=Object.getOwnPropertyDescriptor(e,n);_&&!("get"in _?!e.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,_)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),_=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return _(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const a=n(375),i=o(n(192)),c=n(570);let s,u;const d={async initWasm(t,e){console.info("Initializing web worker..."),await(0,i.default)(t);const n=await c.FileCache.init();let r=await n.get(e.txParams);r?(console.log(`File ${e.txParams} is present in cache, no need to fetch`),s=i.Params.fromBinaryExtended(new Uint8Array(r),!1,!1)):(console.log(`Caching ${e.txParams}`),r=await n.cache(e.txParams),s=i.Params.fromBinary(new Uint8Array(r)));let _=await n.get(e.treeParams);_?(console.log(`File ${e.treeParams} is present in cache, no need to fetch`),u=i.Params.fromBinaryExtended(new Uint8Array(_),!1,!1)):(console.log(`Caching ${e.treeParams}`),_=await n.cache(e.treeParams),u=i.Params.fromBinary(new Uint8Array(_))),console.info("Web worker init complete.")},proveTx:async(t,e)=>new Promise((async n=>{console.debug("Web worker: proveTx"),n(i.Proof.tx(s,t,e))})),proveTree:async(t,e)=>new Promise((async n=>{console.debug("Web worker: proveTree"),n(i.Proof.tree(u,t,e))}))};(0,a.expose)(d)},546:(t,e,n)=>{t.exports=n.p+"7237ea38941c3baecb6f.wasm"},375:(t,e,n)=>{n.r(e),n.d(e,{createEndpoint:()=>_,expose:()=>s,proxy:()=>p,proxyMarker:()=>r,releaseProxy:()=>o,transfer:()=>g,transferHandlers:()=>c,windowEndpoint:()=>y,wrap:()=>d});const r=Symbol("Comlink.proxy"),_=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),i=t=>"object"==typeof t&&null!==t||"function"==typeof t,c=new Map([["proxy",{canHandle:t=>i(t)&&t[r],serialize(t){const{port1:e,port2:n}=new MessageChannel;return s(t,e),[n,[n]]},deserialize:t=>(t.start(),d(t))}],["throw",{canHandle:t=>i(t)&&a in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function s(t,e=self){e.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:_,type:o,path:i}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(m);let d;try{const e=i.slice(0,-1).reduce(((t,e)=>t[e]),t),n=i.reduce(((t,e)=>t[e]),t);switch(o){case"GET":d=n;break;case"SET":e[i.slice(-1)[0]]=m(r.data.value),d=!0;break;case"APPLY":d=n.apply(e,c);break;case"CONSTRUCT":d=p(new n(...c));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;s(t,n),d=g(e,[e])}break;case"RELEASE":d=void 0;break;default:return}}catch(t){d={value:t,[a]:0}}Promise.resolve(d).catch((t=>({value:t,[a]:0}))).then((t=>{const[r,a]=h(t);e.postMessage(Object.assign(Object.assign({},r),{id:_}),a),"RELEASE"===o&&(e.removeEventListener("message",n),u(e))}))})),e.start&&e.start()}function u(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function d(t,e){return f(t,[],e)}function b(t){if(t)throw new Error("Proxy has been released and is not useable")}function f(t,e=[],n=function(){}){let r=!1;const a=new Proxy(n,{get(n,_){if(b(r),_===o)return()=>v(t,{type:"RELEASE",path:e.map((t=>t.toString()))}).then((()=>{u(t),r=!0}));if("then"===_){if(0===e.length)return{then:()=>a};const n=v(t,{type:"GET",path:e.map((t=>t.toString()))}).then(m);return n.then.bind(n)}return f(t,[...e,_])},set(n,_,o){b(r);const[a,i]=h(o);return v(t,{type:"SET",path:[...e,_].map((t=>t.toString())),value:a},i).then(m)},apply(n,o,a){b(r);const i=e[e.length-1];if(i===_)return v(t,{type:"ENDPOINT"}).then(m);if("bind"===i)return f(t,e.slice(0,-1));const[c,s]=w(a);return v(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:c},s).then(m)},construct(n,_){b(r);const[o,a]=w(_);return v(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:o},a).then(m)}});return a}function w(t){const e=t.map(h);return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))];var n}const l=new WeakMap;function g(t,e){return l.set(t,e),t}function p(t){return Object.assign(t,{[r]:!0})}function y(t,e=self,n="*"){return{postMessage:(e,r)=>t.postMessage(e,n,r),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function h(t){for(const[e,n]of c)if(n.canHandle(t)){const[r,_]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},_]}return[{type:"RAW",value:t},l.get(t)||[]]}function m(t){switch(t.type){case"HANDLER":return c.get(t.name).deserialize(t.value);case"RAW":return t.value}}function v(t,e,n){return new Promise((r=>{const _=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===_&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:_},e),n)}))}},424:(t,e,n)=>{let r,_;n.r(e),n.d(e,{deleteDB:()=>l,openDB:()=>w,unwrap:()=>f,wrap:()=>b});const o=new WeakMap,a=new WeakMap,i=new WeakMap,c=new WeakMap,s=new WeakMap;let u={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return a.get(t);if("objectStoreNames"===e)return t.objectStoreNames||i.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function d(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_||(_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),b(o.get(this))}:function(...t){return b(e.apply(f(this),t))}:function(t,...n){const r=e.call(f(this),t,...n);return i.set(r,t.sort?t.sort():[t]),b(r)}:(t instanceof IDBTransaction&&function(t){if(a.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",_),t.removeEventListener("error",o),t.removeEventListener("abort",o)},_=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",_),t.addEventListener("error",o),t.addEventListener("abort",o)}));a.set(t,e)}(t),n=t,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,u):t);var e,n}function b(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",_),t.removeEventListener("error",o)},_=()=>{e(b(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",_),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&o.set(e,t)})).catch((()=>{})),s.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=d(t);return e!==t&&(c.set(t,e),s.set(e,t)),e}const f=t=>s.get(t);function w(t,e,{blocked:n,upgrade:r,blocking:_,terminated:o}={}){const a=indexedDB.open(t,e),i=b(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(b(a.result),t.oldVersion,t.newVersion,b(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),i.then((t=>{o&&t.addEventListener("close",(()=>o())),_&&t.addEventListener("versionchange",(()=>_()))})).catch((()=>{})),i}function l(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",(()=>e())),b(n).then((()=>{}))}const g=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],y=new Map;function h(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(y.get(e))return y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,_=p.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!_&&!g.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,_?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),_&&o.done]))[0]};return y.set(e,o),o}var m;m=u,u={...m,get:(t,e,n)=>h(t,e)||m.get(t,e,n),has:(t,e)=>!!h(t,e)||m.has(t,e)}}},e={};function n(r){var _=e[r];if(void 0!==_)return _.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=self.location+"",n(827)})();